<ion-view view-title="Contact" class="contact">
  <ion-nav-buttons side="left">
    <button ng-hide="activeTab == 'home'" class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <i ng-hide="activeTab == 'home'" class="ion-gear-a" ui-sref="settings"></i>
  </ion-nav-buttons>
  <ion-content>
    <ion-tabs class="tabs-positive tabs-icon-only" on-swipe-left="onSwipeLeft()" on-swipe-right="onSwipeRight()">
      <ion-tab icon="ion-ios-person-outline" >
        <ion-nav-view name="home-tab" class="item-menu">
          <div ng-repeat="model in contacts | orderBy:['-isRegistered','displayName']">
            <ion-list ng-if="model.displayName !== '' && model.phoneNumbers !== null">
              <ion-item ng-if="model.isRegistered === true" ng-click="showPopup(model)">
                <div ng-if="model.image_path.indexOf('.jpeg') > -1">
                  <img src="{{model.image_path}}" class="contactImg" alt="" />
                </div>
                <div ng-if="model.image_path.indexOf('.jpeg') === -1">
                  <img src="img/ionic.png" class="contactImg withoutImg" alt="" />
                </div>
                <div class="nameContact">{{model.displayName}}</div>
              </ion-item>
              <ion-item ng-if="model.isRegistered !== true" ng-click="showPopup(model)">
                <img src="img/ionic.png" class="contactImg withoutImg" alt="" />
                <div class="nameContact withoutImg">{{model.displayName}}</div>
                <i class="plusContactIcon ion-android-add"></i>
              </ion-item>
            </ion-list>
          </div>
        </ion-nav-view>
      </ion-tab>
      <ion-tab icon="ion-ios-people-outline">
        <ion-nav-view name="menu-tab" class="item-menu">
          <div ng-repeat="eachGroup in groupObject | unique:'group'">
            <ion-list>
              <ion-item>
                {{eachGroup.group}}
                <div ng-repeat="contact in groupObject | orderBy:'name'">
                  <ion-list ng-if="contact.group === eachGroup.group">
                    <ion-item ng-if="contact.name !== ''">
                      {{contact.name}} <i ng-click="deleteContactFromGroup(eachGroup.group, contact.phoneNumber)" class="icon-right ion-close"></i>
                    </ion-item>
                  </ion-list>
                </div>
              </ion-item>
            </ion-list>
          </div>

          <button class="button button-full button-positive newGroupFixed" ng-click="addNewGroupIndependant()"><i class="ion-android-add"></i> New group</button>
        </ion-nav-view>
      </ion-tab>
    </ion-tabs>
  </ion-content>
</ion-view>
